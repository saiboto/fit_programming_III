setwd("/media/timon/TMI640/proyecto UTP/RStudio")
## mass ----
md <- read.csv("InventarioElDiamanteTotalWithD.csv")
names(md)
# exploration----
plot(md$dryweight.kg ~ md$vol_dm3, col = md$edad)
plot(md$dryweight.kg ~ md$edad)
plot(md$dryweight.kg ~ md$variedad)
plot(md$dryweight.kg ~ md$TallosPerHa)
plot(md$dryweight.kg ~ md$Longitud)
plot(md$dryweight.kg ~ md$altura_hipsometro)
#models
attach(md)
# plot ----
plot(md$dryweight.kg~md$dap, col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Diameter at breast height (cm)", ylab = "Culm Volume (dm^3)")
mm1 <- nlm(dryweight.kg ~ a * dap^b, start = c(a = 0.35, b = 2.5))
mm1 <- nls(dryweight.kg = a * dap^b, start = c(a = 0.35, b = 2.5))
mm1 <- nls(dryweight.kg ~ a * dap^b, start = c(a = 0.35, b = 2.5))
mm1
mm2 <- nls(dryweight.kg ~ a * altura_hipsometro^b, start = c(a = 0.3, b = 2))
mm2
mm3 <- nls(dryweight.kg ~ a * dap^b * altura_hipsometro ^c, start = c(a = 0.35, b = 1.5, c = 0.5))
mm3
hist(residuals(mm3))
hist(residuals(mm2))
hist(residuals(mm1))
hist(residuals(mm3))
mm4 <- nls(dryweight.kg ~ a * d04^b, start = c(a = 0.35, b = 2.5))
mm4
mm4 <- nls(dryweight.kg ~ a * d06^b, start = c(a = 0.35, b = 2.5))
mm4
mm4 <- nls(dryweight.kg ~ a * d08^b, start = c(a = 0.35, b = 2.5))
mm4
mm4 <- nls(dryweight.kg ~ a * d10^b, start = c(a = 0.35, b = 2.5))
mm4
mm4 <- nls(dryweight.kg ~ a * d12^b, start = c(a = 0.35, b = 2.5))
mm4
#models
attach(md)
plot(md§dryweight.kg ~ md$d01)
plot(md$dryweight.kg ~ md$d01)
plot(md$dryweight.kg ~ md$d01)
plot(md§dryweight.kg ~ md$d02)
plot(md$dryweight.kg ~ md$d01)
plot(md$dryweight.kg ~ md$d02)
plot(md$dryweight.kg ~ md$d04)
plot(md$dryweight.kg ~ md$d06)
plot(md$dryweight.kg ~ md$d08)
plot(md$dryweight.kg ~ md$d10)
plot(md$dryweight.kg ~ md$d12)
plot(md$dryweight.kg ~ md$Longitud)
plot(md$dryweight.kg ~ md$d01)
plot(md$dryweight.kg ~ md$d02)
plot(md$dryweight.kg ~ md$d04)
plot(md$dryweight.kg ~ md$d06)
plot(md$dryweight.kg ~ md$d08)
plot(md$dryweight.kg ~ md$d08)
plot(md$dryweight.kg ~ md$d08)
plot(md$dryweight.kg ~ md$d06)
plot(md$dryweight.kg ~ md$d08)
plot(md$dryweight.kg ~ md$d10)
plot(md$dryweight.kg ~ md$d12)
nls(dryweight.kg ~ a * d08^b, start = c(a = 0.35, b = 2.5))
nls(dryweight.kg ~ a * d10^b, start = c(a = 0.35, b = 2.5))
md <- md[ which(md$ID != 24),]
#models
attach(md)
mm1 <- nls(dryweight.kg ~ a * dap^b, start = c(a = 0.35, b = 2.5))
mm1
mm2 <- nls(dryweight.kg ~ a * altura_hipsometro^b, start = c(a = 0.3, b = 2))
mm2
mm3 <- nls(dryweight.kg ~ a * dap^b * altura_hipsometro ^c, start = c(a = 0.35, b = 1.5, c = 0.5))
mm3
mm4 <- nls(dryweight.kg ~ a * d10^b, start = c(a = 0.35, b = 2.5))
mm4
plot(md$dryweight.kg ~ md$d01)
plot(md$dryweight.kg ~ md$d02)
plot(md$dryweight.kg ~ md$d04)
plot(md$dryweight.kg ~ md$d06)
plot(md$dryweight.kg ~ md$d08)
plot(md$dryweight.kg ~ md$d10)
plot(md$dryweight.kg ~ md$d04)
plot(md$dryweight.kg ~ md$d06)
mm4 <- nls(dryweight.kg ~ a * d06^b, start = c(a = 0.35, b = 2.5))
mm4
mm4 <- nls(dryweight.kg ~ a * d08^b, start = c(a = 0.35, b = 2.5))
mm4
mm4 <- nls(dryweight.kg ~ a * d04^b, start = c(a = 0.35, b = 2.5))
mm4
mm4 <- nls(dryweight.kg ~ a * d06^b, start = c(a = 0.35, b = 2.5))
mm4
plot(md$dryweight.kg ~ md$d01)
plot(md$dryweight.kg ~ md$d02)
plot(md$dryweight.kg ~ md$d04)
plot(md$dryweight.kg ~ md$d06)
plot(md$dryweight.kg ~ md$d08)
plot(md$dryweight.kg ~ md$d10)
plot(md$dryweight.kg ~ md$d12)
#models
attach(md)
# plot ----
plot(md$dryweight.kg~md$dap, col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Diameter at breast height (cm)", ylab = "Culm Volume (dm^3)")
grid()
points(d$VolumenNetoSmallian*1000~d$DAP, col = "orange4", pch = 20)
lines(md$dbh, predict(mm1))
lines(md$dap, predict(mm1))
x <- seq(0,30,0.1)
mm1
lines(x,0.2715*x^2.0653) #mm1
# plot ----
plot(md$dryweight.kg~md$dap, col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Diameter at breast height (cm)", ylab = "Culm Volume (dm^3)")
grid()
points(d2$vol_dm3~d2$dap, col = "darkred", pch = 20)
lines(x,0.2715*x^2.0653) #mm1
points(md$dryweight.kg~md$dap, col = "darkred", pch = 20)
mm2 <- nls(dryweight.kg ~ a * altura_hipsometro^b, start = c(a = 0.3, b = 2))
mm2
lines(x,0.4255*x^1.685, col) #mm2
plot(md$dryweight.kg~md$altura_hipsometro, col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Diameter at breast height (cm)", ylab = "Culm Volume (dm^3)")
plot(md$dryweight.kg~md$altura_hipsometro, col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Laser height measurement (m)", ylab = "Culm Volume (dm^3)")
grid()
points(md$dryweight.kg~md$altura_hipsometro, col = "darkred", pch = 20)
lines(x,0.4255*x^1.685, col) #mm2
lines(x,0.4255*x^1.685) #mm2
plot(md$dryweight.kg~md$altura_hipsometro, col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Laser height measurement (m)", ylab = "Culm dry mass (kg)")
plot(md$dryweight.kg~md$dap, col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Diameter (cm)", ylab = "Culm dry mass (kg)")
grid()
points(md$dryweight.kg~md$dap, col = "darkred", pch = 20)
points(md$dryweight.kg~md$dap, col = "darkred", pch = 20)
points(md$dryweight.kg~md$d00, col = "black", pch = 20)
points(md$dryweight.kg~md$d02, col = "darkblue", pch = 20)
plot(md$dryweight.kg~md$dap, col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Diameter (cm)", ylab = "Culm dry mass (kg)")
plot(md$dryweight.kg~md$dap, col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Diameter (cm)", ylab = "Culm dry mass (kg)")
grid()
points(md$dryweight.kg~md$dap, col = "darkred", pch = 20)
md$d00
md$dap
md
asnumeric(md$d00)
points(md$dryweight.kg~as.numeric(md$d00)/10, col = "black", pch = 20)
as.numeric(md$d00)
points(md$dryweight.kg~as.numeric(md$d00, sep = ".")/10, col = "black", pch = 20)
as.numeric(md$d00, sep = ".")
points(md$dryweight.kg~md$d02/10, col = "darkblue", pch = 20)
md$d02
md$d02/10
points(md$dryweight.kg~md$d02/10, col = "darkblue", pch = 20)
points(md$dryweight.kg,md$d04/10, col = "cyan3", pch = 20)
md$dryweight.kg
points(md$dryweight.kg ~ (md$d04/10), col = "cyan3", pch = 20)
points(md$d04/10,md$dryweight.kg, col = "cyan3", pch = 20)
plot(md$dryweight.kg~md$dap, col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Diameter (cm)", ylab = "Culm dry mass (kg)")
grid()
points(md$dryweight.kg~md$dap, col = "darkred", pch = 20)
points(md$dryweight.kg~as.numeric(md$d00)/10, col = "black", pch = 20)
points(md$d02/10,md$dryweight.kg, col = "darkblue", pch = 20)
points(md$d04/10,md$dryweight.kg, col = "cyan3", pch = 20)
points(md$d06/10,md$dryweight.kg, col = "yellow4", pch = 20)
points(md$d08/10,md$dryweight.kg, col = "green", pch = 20)
points(md$d10/10,md$dryweight.kg, col = "green3", pch = 20)
lines(x,0.4255*x^1.685) #mm2
plot(c(,), col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Diameter (cm)", ylab = "Culm dry mass (kg)")
plot(c(), col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Diameter (cm)", ylab = "Culm dry mass (kg)")
points(md$dryweight.kg~md$dap, col = "darkred", pch = 20)
plot(c(), col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Diameter at breast height (cm)", ylab = "Culm dry mass (kg)")
points(md$dryweight.kg~md$dap, col = "darkred", pch = 20)
plot(c(), col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Diameter at breast height (cm)", ylab = "Culm dry mass (kg)")
points(md$d06/10,md$dryweight.kg, col = "yellow4", pch = 20)
plot(c(), col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Diameter at height 6 m (cm)", ylab = "Culm dry mass (kg)")
points(md$d06/10,md$dryweight.kg, col = "yellow4", pch = 20)
plot(c(), col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Diameter at height 10 m (cm)", ylab = "Culm dry mass (kg)")
points(md$d10/10,md$dryweight.kg, col = "green3", pch = 20)
points(md$d12/10,md$dryweight.kg, col = "green3", pch = 20)
plot(c(), col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Diameter at height 10 m (cm)", ylab = "Culm dry mass (kg)")
points(md$d12/10,md$dryweight.kg, col = "green3", pch = 20)
points(md$d10/10,md$dryweight.kg, col = "green3", pch = 20)
plot(c(), col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Diameter at height 10 m (cm)", ylab = "Culm dry mass (kg)")
grid()
points(md$d10/10,md$dryweight.kg, col = "green4", pch = 20)
plot(c(), col = "darkred", pch = 20, xlim = c(0,18), ylim = c(0,80), xlab = "Diameter at height 10 m (cm)", ylab = "Culm dry mass (kg)")
grid()
points(md$d10/10,md$dryweight.kg, col = "green4", pch = 20)
summary(mm1)
mm4 <- nls(dryweight.kg ~ a * d06^b, start = c(a = 0.35, b = 2.5))
summary(mm4)
summary(mm3)
AIC(mm1, mm2, mm3, mm4)
AIC(mm1, mm3, mm4)
A <- [12,23,34,45]
A <- c(12,23,34,45)
B <- c(10, 23, 34, 45)
A == B
count(A==B)
sum(A==B)
c <- c(12,20, 30, 45)
sum(A==C)
C <- c(12,20, 30, 45)
sum(A==C)
library(plotlib)
setwd("~/Documents/MA2try")
con <- read.csv("Config.csv")
r1 <- read.csv("Resulting_Measurements1.csv")
r2 <- read.csv("Resulting_Measurements2.csv")
r3 <- read.csv("Resulting_Measurements3.csv")
r4 <- read.csv("Resulting_Measurements4.csv")
r5 <- read.csv("Resulting_Measurements5.csv")
r6 <- read.csv("Resulting_Measurements6.csv")
setwd("~/Documents/MA3try")
r3.10 <-read.csv("Resulting_Measurements10.csv")
r3.11 <- read.csv("Resulting_Measurements11.csv")
r3.12 <- read.csv("Resulting_Measurements12.csv")
setwd("~/Documents/MA2try")
r1$Dislocated <- NA
r2$Dislocated <- NA
r3$Dislocated <- NA
r4$Dislocated <- NA
r5$Dislocated <- NA
r6$Dislocated <- NA
r <- rbind(r1, r2, r3, r4, r5, r6, r3.10, r3.11, r3.12)
r$config <- c( rep(c(1,2,3,4,5), each =  50), rep(6,17), rep(c(7,8,9), each = 50))
hist(r1$Out.Of.Box)
plot(r$Out.Of.Box, col = r$config, cex = 0.8, pch = 20)
plot(r$Dislocated, col = r$config, cex = 0.3)
plot(r$Deflation.Factor, col = r$config)
plot(r$Deflation.Factor~r$Out.Of.Box, col = r$config)
summary(r1$Deflation.Factor)
library(pastecs)
library(ggplot2)
setwd("~/Documents/MA4sim")
con <- read.csv("Config.csv")
setwd("~/Documents/MA4sim/Results")
# ---- Polter size:
r1 <- read.csv("Results1.csv")
r2 <- read.csv("Results2.csv")
r3 <- read.csv("Results3.csv")
r4 <- read.csv("Results4.csv")
r5 <- read.csv("Results5.csv")
r1$rel.dislocated <- r1$Dislocated / 0.4
r2$rel.dislocated <- r2$Dislocated / 0.8
r3$rel.dislocated <- r3$Dislocated / 1.2
r4$rel.dislocated <- r4$Dislocated / 2.4
r5$rel.dislocated <- r5$Dislocated / 2.4
ps <- rbind(r1,r2,r3,r4,r5)
ps$config <- rep(c(1,2,3,4,5), each = 40)
plot(ps$Deflation.Factor ~ ps$config)
plot(ps$Out.Of.Box ~ ps$config)
plot(ps$Dislocated ~ ps$config)
plot(ps$rel.dislocated)
plot(ps$rel.dislocated ~ps$config)
aggregate(ps, ps$config, mean())
aggregate(ps, ps$config, mean)
aggregate(ps, list(ps$config), mean)
ps
aggregate(ps$rel.dislocated, list(ps$config), mean)
aggregate(ps$Deflation.Factor, list(ps$config), mean)
# ---- random turn
r3.6.2 <- read.csv("Results3.6.2.csv")
r.3.13.2 <-read.csv("Results3.13.2.csv")
r.3.14.2 <-read.csv("Results3.14.2.csv")
r.3.15.2 <-read.csv("Results3.15.2.csv")
rt <- rbind(r3.6.2,r.3.13.2,r.3.14.2,r.3.15.2)
plot(rt$Deflation.Factor)
rt
rt$config <- rep(c(6,13,14,15), each = 100)
plot(rt$Deflation.Factor)
plot(rt$Deflation.Factor, col = rt$config)
aggregate(rt$Deflation.Factor, rt$config, mean)
aggregate(rt$Deflation.Factor, list(rt$config), mean)
aggregate(rt$Deflation.Factor, list(rt$config), sd)
t.test(x=r3.6.2$Deflation.Factor, y = r.3.13.2$Deflation.Factor, alternative = two.sided)
t.test(x=r3.6.2$Deflation.Factor, y = r.3.13.2$Deflation.Factor)
t.test(x=r3.6.2$Deflation.Factor, y = r.3.13.2$Deflation.Factor, var.equal = T)
t.test(x=r3.14.2$Deflation.Factor, y = r.3.15.2$Deflation.Factor, var.equal = T)
r.3.14.2 <-read.csv("Results3.14.2.csv")
r.3.15.2 <-read.csv("Results3.15.2.csv")
t.test(x=r3.14.2$Deflation.Factor, y = r.3.15.2$Deflation.Factor, var.equal = T)
t.test(x=r.3.14.2$Deflation.Factor, y = r.3.15.2$Deflation.Factor, var.equal = T)
# ---- stem set
s <- data.frame()
for (it in 30:59){
filename <- paste0("Results", it, ".csv")
csv <- read.csv(filename)
csv$config <- it
s <- rbind(s, csv)
}
ss <- merge(x = s, y = con, by.x = "config", by.y = "settings_id" )
fname <- gsub("[a-zA-Z . -]", "",ss$stem_file)
ss$diam.sd <- as.numeric(substr(fname, 4,4))
ss$taper.mean <- as.numeric(substr(fname, 5, 5))
ss$bent.mean.bend <- as.numeric(substr(fname,6,7))
ss$bent.fraction <- as.numeric(substr(fname,8,10))
plot(ss$Deflation.Factor)
plot(ss$Deflation.Factor ~ ss$config)
grid()
plot(ss$Out.Of.Box)
plot(ss$Dislocated)
plot(ss$Deflation.Factor ~ ss$taper.mean, col = ss$bent.mean.bend+1)
plot(ss$Deflation.Factor ~ ss$bent.mean.bend, col = ss$bent.fraction)
plot(ss$Deflation.Factor ~ ss$bent.mean.bend, col = ss$bent.fraction+1)
plot(ss$Deflation.Factor ~ ss$bent.mean.bend, col = ss$bent.fraction)
plot(ss$Deflation.Factor ~ ss$bent.mean.bend, col = ss$bent.fraction)
plot(ss$Deflation.Factor, col = ss$bent.mean.bend+1, pch = ss$taper.mean+1, cex = 0.5)
#---- analyze stem sets
setwd("~/fit_programming_III/Stems")
stemsets <- data.frame()
for (stemset in con$stem_file){
st <- read.csv(stemset)
tapers <- (st$bottom_diam_x -  st$top_diam_x)/st$length
taper.mean <- mean(tapers)
md.mean <- mean(st$middle_diam_x)
md.sd <- sd(st$middle_diam_x)
bent.perc <- sum(st$bend != 0)/length(st$bend)
bend.mean <- if(bent.perc > 0){mean(st$bend)/bent.perc}else{0}
stemsets <- rbind(stemsets, c(taper.mean, md.mean, md.sd, bent.perc, bend.mean))
}
stemsets$name <- con$stem_file
names(stemsets) <- c("taper_mean", "middle_diam_mean", "middle_diam_sd", "bent_percentage", "bend_mean", "Filename")
stemsets <- data.frame()
for (stemset in con$stem_file){
st <- read.csv(stemset)
tapers <- (st$bottom_diam_x -  st$top_diam_x)/st$length
taper.mean <- mean(tapers)
md.mean <- mean(abs(st$middle_diam_x))
md.sd <- sd(abs(st$middle_diam_x))
bent.perc <- sum(st$bend != 0)/length(st$bend)
bend.mean <- if(bent.perc > 0){mean(st$bend)/bent.perc}else{0}
stemsets <- rbind(stemsets, c(taper.mean, md.mean, md.sd, bent.perc, bend.mean))
}
stemsets$name <- con$stem_file
names(stemsets) <- c("taper_mean", "middle_diam_mean", "middle_diam_sd", "bent_percentage", "bend_mean", "Filename")
st <- read.csv("My200-0-3-0.csv")
st <- read.csv("My200-3-0-0.csv")
hist(st$middle_diam_x)
hist(st$bend)
hist(st$middle_diam_x/st$middle_diam_y)
hist(st$bottom_diam_x)
hist(st$bottom_diam_y)
# suche nach der annomalie in 3-0-0
st <- read.csv("My200-4-0-0.csv")
hist(st$bottom_diam_y)
hist(st$middle_diam_x/st$middle_diam_y)
hist(st$middle_diam_x)
hist(st$top_diam_x)
hist(st$top_diam_x)
hist(st$bottom_diam_x)
hist(st$bottom_diam_x)
# suche nach der annomalie in 3-0-0
st <- read.csv("My200-3-0-0.csv")
hist(st$bottom_diam_x)
hist(st$top_diam_x)
st
hist(st$top_diam_x-st$bottom_diam_x)
# suche nach der annomalie in 3-0-0
st <- read.csv("My200-2-0-0.csv")
hist(st$top_diam_x-st$bottom_diam_x)
hist(st$middle_diam_x)
# suche nach der annomalie in 3-0-0
st <- read.csv("My200-8-0-0.csv")
hist(st$middle_diam_x)
hist(abs(st$middle_diam_x))
hist(st$middle_diam_x/st$middle_diam_y)
# suche nach der annomalie in 3-0-0
st <- read.csv("My200-5-0-0.csv")
hist(st$middle_diam_x/st$middle_diam_y)
# suche nach der annomalie in 3-0-0
st <- read.csv("My200-3-0-0.csv")
hist(st$middle_diam_x/st$middle_diam_y)
